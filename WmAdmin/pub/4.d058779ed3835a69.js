"use strict";(self.webpackChunkadmin_console=self.webpackChunkadmin_console||[]).push([[4],{4:(R,h,s)=>{s.r(h),s.d(h,{QuiesceReportModule:()=>P});var c=s(6814),r=s(7304),l=s(4665),t=s(9212),p=s(2618),u=s(9744),x=s(5219),_=s(3259);function b(i,o){1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&i&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"masthead.settings.quiesce.entering.msg")," "))}function w(i,o){1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&i&&(t.xp6(),t.hij(" ",t.lcZ(2,1,"masthead.settings.quiesce.exiting.msg")," "))}function v(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"ac-loader"),t.TgZ(2,"div",12),t.YNc(3,b,3,3,"ng-container",11)(4,w,3,3,"ng-container",11),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf","enter"===e.mode),t.xp6(),t.Q6J("ngIf","exit"===e.mode)}}function C(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(),t.hij(" ",e," ")}}function T(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"h5")(2,"ul"),t.YNc(3,C,2,1,"li",14),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.quiesceErrorSuggestions)}}function Q(i,o){1&i&&(t.TgZ(0,"tr")(1,"th",20),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"th",21),t.ALo(6,"translate"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",22),t.ALo(10,"translate"),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&i&&(t.xp6(),t.s9C("pTooltip",t.lcZ(2,6,"masthead.settings.quiesce.report.type.header")),t.xp6(2),t.hij(" ",t.lcZ(4,8,"masthead.settings.quiesce.report.type.header")," "),t.xp6(2),t.s9C("pTooltip",t.lcZ(6,10,"masthead.settings.quiesce.report.status.header")),t.xp6(2),t.hij(" ",t.lcZ(8,12,"masthead.settings.quiesce.report.status.header")," "),t.xp6(2),t.s9C("pTooltip",t.lcZ(10,14,"masthead.settings.quiesce.report.message.header")),t.xp6(2),t.hij(" ",t.lcZ(12,16,"masthead.settings.quiesce.report.message.header")," "))}function Z(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"td",20)(2,"div",23),t._uU(3),t.qZA()(),t.TgZ(4,"td",21)(5,"div",23),t._uU(6),t.qZA()(),t.TgZ(7,"td",22)(8,"div",23),t._uU(9),t.qZA()()()),2&i){const e=o.$implicit;t.xp6(),t.s9C("pTooltip",e.type),t.xp6(2),t.Oqu(e.type),t.xp6(),t.s9C("pTooltip",e.status),t.xp6(2),t.Oqu(e.status),t.xp6(),t.s9C("pTooltip",e.message),t.xp6(2),t.Oqu(e.message)}}function A(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"p-table",17),t.YNc(4,Q,13,18,"ng-template",18)(5,Z,10,6,"ng-template",19),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("columns",e.rptCols)("value",e.quiesceResponse.report)("scrollable",!1)}}function M(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",13)(2,"h3"),t._uU(3),t.qZA()(),t.YNc(4,T,4,1,"ng-container",11)(5,A,6,3,"ng-container",11),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.quiesceResponse.message),t.xp6(),t.Q6J("ngIf",e.quiesceErrorSuggestions),t.xp6(),t.Q6J("ngIf",!e.errorOccurred)}}const m=i=>({pageTitle:i}),O=[{path:"",component:(()=>{class i{constructor(e,n,a,f,k){this.mastHeadService=e,this.route=n,this.translate=a,this.router=f,this.sharedMessageService=k,this.homeLink="#/integration/dashboard/overview",this.quiesceReportHelp="WmRoot/doc/OnlineHelp/index.html#page/is-onlinehelp%2FIS_Server_EnterExitQuiesceModeScrn.html%23",this.fetchingQuiesceReport=!1,this.isQuiesceMode=!1,this.errorOccurred=!1,n.params.subscribe(g=>{this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(d=>{d&&"change-locale"===d.data.action&&this.translate.use(d.data.data.locale)})}),n.queryParams.subscribe(g=>this.queryParamChange(g.mode,g.timeout))}queryParamChange(e,n){this.mode===e&&this.maxMinutesWaitPkgDisable===n||(this.mode=e,this.maxMinutesWaitPkgDisable=n,this.fetchingQuiesceReport=!0,"enter"===this.mode?this.enterQuiesceMode():"exit"===this.mode&&this.exitQuiesceMode())}enterQuiesceMode(){this.pageTitle=this.translate.instant("masthead.settings.quiesce.report.title"),this.quiesceErrorSuggestions=null,this.mastHeadService.enterQuiesceMode(this.maxMinutesWaitPkgDisable.toString()).subscribe(e=>{this.errorOccurred=!0,e&&(this.quiesceResponse=e,(e.status&&"1"===e.status&&"INVALID"===e.message||"ISS.0030.0229"===e.status)&&(this.quiesceResponse.message=this.translate.instant("masthead.settings.quiesce.port.error.msg"),this.quiesceErrorSuggestions=[this.translate.instant("masthead.settings.quiesce.port.error.suggestion.1"),this.translate.instant("masthead.settings.quiesce.port.error.suggestion.2"),this.translate.instant("masthead.settings.quiesce.port.error.suggestion.3"),this.translate.instant("masthead.settings.quiesce.port.error.suggestion.4")])),e&&e.message&&e.report&&e.report.length>0&&(this.mastHeadService.changeMode("QUIESCE"),this.errorOccurred=!1),this.fetchingQuiesceReport=!1})}exitQuiesceMode(){this.pageTitle=this.translate.instant("masthead.settings.quiesce.report.title"),this.quiesceErrorSuggestions=null,this.mastHeadService.exitQuiesceMode().subscribe(e=>{this.errorOccurred=!0,e&&(this.quiesceResponse=e),e&&e.message&&e.report&&e.report.length>0&&(this.mastHeadService.changeMode("ACTIVE"),this.errorOccurred=!1),this.fetchingQuiesceReport=!1})}goToHomePage(){this.router.navigateByUrl(this.homeLink)}showHelp(){const e=l.Zr.getISBaseUrl()+"/"+this.quiesceReportHelp;window.open(e,e)}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(l.dL),t.Y36(r.gz),t.Y36(p.sK),t.Y36(r.F0),t.Y36(l.fj))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["quiesce-report"]],inputs:{mode:"mode"},decls:24,vars:21,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[1,"quiesce-container"],[1,"dlg-title-wrapper"],["width","100%","role","presentation"],[1,"page-title","padding-top"],[1,"padding-top"],["tabindex","0","showDelay","250",1,"help1",3,"pTooltip","click"],["src","assets/images/dlt-icon-help.svg","width","22","height","22",3,"alt"],[4,"ngIf"],[1,"loading-message"],[1,"msg"],[4,"ngFor","ngForOf"],[1,"dlt-data-table-container"],[1,"dlt-table-wrapper"],[3,"columns","value","scrollable"],["pTemplate","header"],["pTemplate","body"],["showDelay","250","tooltipPosition","top",1,"t30pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t10pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t60pct",3,"pTooltip"],[1,"wrap"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"ol",1)(2,"li")(3,"a",2),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"li")(7,"a",3),t._uU(8),t.ALo(9,"translate"),t.qZA()()()(),t.TgZ(10,"div",4)(11,"div",5)(12,"table",6)(13,"tr")(14,"td",7)(15,"h1"),t._uU(16),t.qZA()(),t.TgZ(17,"td",8)(18,"button",9),t.NdJ("click",function(){return a.showHelp()}),t.ALo(19,"translate"),t._UZ(20,"img",10),t.ALo(21,"translate"),t.qZA()()()()(),t.YNc(22,v,5,2,"ng-container",11)(23,M,6,3,"ng-container",11),t.qZA()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,7,"masthead.administration")),t.xp6(4),t.Oqu(t.lcZ(9,9,"masthead.settings.quiesce.report.title")),t.xp6(8),t.Oqu(a.pageTitle),t.xp6(2),t.s9C("pTooltip",t.xi3(19,11,"dsp.help",t.VKq(17,m,a.pageTitle))),t.xp6(2),t.s9C("alt",t.xi3(21,14,"dsp.help",t.VKq(19,m,a.pageTitle))),t.xp6(2),t.Q6J("ngIf",a.fetchingQuiesceReport),t.xp6(),t.Q6J("ngIf",a.quiesceResponse))},dependencies:[c.sg,c.O5,u.iA,x.jx,r.rH,_.u,p.X$],styles:[".break-column[_ngcontent-%COMP%]{word-wrap:break-word;width:100%}th[_ngcontent-%COMP%]{color:#000;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:16px;padding:4px;text-align:left}td[_ngcontent-%COMP%]{color:#000;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:16px;padding:4px;text-align:left;word-break:break-all}th.t10pct[_ngcontent-%COMP%]{width:10%;font-size:16px;word-break:break-all}th.t30pct[_ngcontent-%COMP%]{width:30%;font-size:16px;word-break:break-all}th.t60pct[_ngcontent-%COMP%]{width:60%;font-size:16px;word-wrap:break-word}td.t10pct[_ngcontent-%COMP%]{width:10%;font-size:16px;word-break:break-all}td.t30pct[_ngcontent-%COMP%]{width:30%;font-size:16px;word-break:break-all}td.t60pct[_ngcontent-%COMP%]{width:60%;font-size:16px;word-wrap:break-word}div.wrap[_ngcontent-%COMP%]{font-size:16px;text-overflow:ellipsis;overflow:hidden;word-wrap:break-word}.quiesce-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 104px);padding:1rem;overflow-x:hidden;overflow-y:auto}.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.74rem;padding-left:.08rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.74rem;margin-right:25px}.page-title[_ngcontent-%COMP%]{font-size:16px;line-height:1.5rem;font-weight:500;width:100%;padding-top:1.07rem;font-family:Roboto,Helvetica,Arial,sans-serif}.padding-top[_ngcontent-%COMP%]{padding-top:1.07rem}.msg[_ngcontent-%COMP%]{padding-left:1rem}.report-message[_ngcontent-%COMP%]{font-size:16px;line-height:1.5rem;font-weight:500;width:100%;padding-left:1.16rem;padding-top:1.07rem;font-family:Roboto,Helvetica,Arial,sans-serif}.report-suggestions[_ngcontent-%COMP%]{font-size:16px;line-height:1.5rem;font-weight:500;width:100%;padding-left:2rem;padding-top:1.07rem;font-family:Roboto,Helvetica,Arial,sans-serif}.loading-message[_ngcontent-%COMP%]{font-size:16px;line-height:1.5rem;text-align:center;width:100%;padding-left:2rem;padding-top:1.07rem;font-family:Roboto,Helvetica,Arial,sans-serif}"]})}return i})()}];let q=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(O),r.Bz]})}return i})();var y=s(7859);let P=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.ez,u.U$,q,p.aw,y.C]})}return i})()}}]);